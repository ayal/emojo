{"version":3,"sources":["App.js","index.js"],"names":["window","__words","words","uniq","arr","filter","x","index","indexOf","rint","min","max","Math","ceil","floor","random","getQ","p","URLSearchParams","location","search","get","mode","App","theme","useMemo","createTheme","palette","getDesignTokens","keys","Object","qidx","qemoji","useState","Number","length","idx","setIdx","useEffect","v","urlParams","set","delete","history","pushState","pathname","setQ","onpopstate","e","setGuesses","setAnswers","ref","useRef","answers","guesses","emoji","legitWords","flatMap","split","map","y","toLowerCase","answerWords","guess","guessWord","current","value","trim","ok","partial","sWord","prev","ThemeProvider","CssBaseline","className","style","fontSize","marginBottom","Card","CardContent","TextField","inputProps","autoComplete","inputRef","onKeyDown","key","Button","variant","color","onClick","CardActions","size","Divider","Chip","label","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.089ae85c.chunk.js","sourcesContent":["import { Button, TextField, ThemeProvider, Chip, Card, CardContent, CardActions, Divider } from \"@mui/material\";\nimport { grey } from '@mui/material/colors';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport { createTheme } from '@mui/material/styles';\n\nimport { useMemo, useRef, useState, useEffect } from \"react\";\nimport \"./styles.css\";\nimport words from \"./words.json\";\n\nwindow.__words = words;\n\nconst uniq = (arr) => arr.filter(function (x, index) {\n  return arr.indexOf(x) === index;\n});\n\nfunction rint(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nconst getQ = (p) => {\n  const urlParams = new URLSearchParams(window.location.search);\n  return urlParams.get(p);\n}\n\nconst setQ = (p, v) => {\n  const urlParams = new URLSearchParams(window.location.search);\n  if (urlParams.get(p) !== v) {\n    urlParams.set(p, v);\n    urlParams.delete('emoji');\n    history.pushState({}, '', `${location.pathname}?${urlParams}`)\n  }\n}\n\n// style\nconst getDesignTokens = (mode) => ({\n  palette: {\n    mode,\n  },\n});\n\nconst mode = 'dark';\n\n\nexport default function App() {\n  const theme = useMemo(() => createTheme(getDesignTokens(mode)), [mode]);\n\n  const keys = useMemo(() => Object.keys(words), [words]);\n  let qidx = getQ('idx');\n  const qemoji = getQ('emoji')\n  if (qemoji && keys.indexOf(qemoji) !== -1) {\n    qidx = keys.indexOf(qemoji);\n  }\n  const [idx, setIdx] = useState(qidx && Number(qidx) ? Number(qidx) : rint(0, keys.length - 1));\n  useEffect(() => {\n    setQ('idx', idx);\n  }, [idx])\n  useEffect(() => {\n    window.onpopstate = function (e) {\n      setGuesses([]);\n      setAnswers(false);\n      const qidx = getQ('idx');\n      if (qidx !== idx) {\n        setIdx(qidx);\n      }\n    };\n  }, [])\n  const ref = useRef();\n  const [answers, setAnswers] = useState();\n  const [guesses, setGuesses] = useState([]);\n\n\n\n  const emoji = keys[idx];\n  const legitWords = uniq(words[emoji].flatMap((x) =>\n    [...x.split(\" \").map((y) => y.toLowerCase()), x]\n  ));\n  const answerWords = uniq(words[emoji].flatMap((x) =>\n    [...x.split(\" \").map((y) => y.toLowerCase())]\n  ));\n\n  const guess = (e) => {\n    const guessWord = ref.current.value.trim();\n    ref.current.value = \"\";\n\n    if (!guessWord) {\n      return;\n    }\n\n    let ok = false;\n    let partial = false;\n    for (const sWord of legitWords) {\n      if (sWord === guessWord.toLowerCase()) {\n        ok = true;\n        partial = false;\n        break;\n      }\n      else if (sWord.indexOf(guessWord) === 0) {\n        ok = true;\n        partial = true;\n      }\n    }\n    setGuesses((prev) => [...prev, { ok, guessWord, partial }]);\n  };\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n\n      <div className=\"app\">\n        <div style={{ fontSize: 60 }}>{emoji}</div>\n\n        <div className=\"main\" style={{ marginBottom: 10 }}>\n          <Card>\n            <CardContent>\n              <div className=\"input-button\">\n                <TextField inputProps={{ autoComplete: \"off\" }} inputRef={ref} onKeyDown={(e) => e.key === 'Enter' && guess()} />\n                <Button variant=\"contained\" color=\"primary\" className=\"guess-button\" onClick={(e) => guess()}>Guess Word</Button>\n              </div>\n            </CardContent>\n            <CardActions>\n              <Button size=\"small\" color=\"secondary\" className=\"answers-button secondary\" onClick={()=>setAnswers(!answers)}>Toggle Answers</Button>\n              <Button size=\"small\" color=\"secondary\" className=\"new-game-button secondary\" onClick={() => {\n                setGuesses([]);\n                setAnswers(false);\n                setIdx(rint(0, keys.length - 1));\n              }}>New Emojo</Button>\n            </CardActions>\n          </Card>\n          <Divider />\n          <Card>\n            <CardContent>\n            <div className=\"guess-list\">\n                {guesses.map(({ ok, partial, guessWord }) => {\n                  return (\n                    <Chip key={guessWord} className=\"guess\" color={ok ? partial ? \"warning\" : \"success\" : \"error\"} label={guessWord} />\n                  );\n                })}\n              </div>\n              <div className=\"answers\">{answers ? answerWords.map(x => <Chip key={x} className=\"answer\" label={x} />) : null}</div>\n            </CardContent>\n          </Card>\n        </div>\n\n\n\n\n\n      </div>\n    </ThemeProvider>\n  );\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}